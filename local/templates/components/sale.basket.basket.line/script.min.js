"use strict";

function BitrixSmallCart() {
}

BitrixSmallCart.prototype = {};
var basketPopoverConfig;
(function (a) {
    basketPopoverConfig = {
        placement: function (c, b) {
            if (a(window).width() <= 992 || a(window).width() > 1920) {
                return "bottom"
            } else {
                window.setTimeout(function () {
                    var f = a(window).width(), e = f - a(c).width() - 4,
                        d = a(c).find(".arrow").get(0).offsetHeight / 2,
                        g = 45 + a(c).width() - a(".nav .cart").width();
                    a(c).addClass("bottom").css({top: 46, left: e}).find(".arrow").css({top: -d, left: g});
                    a(c).addClass("in")
                }, 0)
            }
        }, content: function () {
            return '<div id="js_cart_holder"></div>'
        }, title: function () {
            return '<button type="button" class="close" data-dismiss="popover" aria-hidden="true">&times;</button>'
        }, shown: function () {
            $.ajax({
                type: "get",
                url: "/api/basket",
                success: function (b) {
                    $('#js_cart_holder').append(b.text);
                }
            }).fail(function () {
            }).always(function () {
            })
        }
    }
})(jQuery);